<ion-header>
  <div class="top-wrapper">
    <div class="top primary menu sticky">
      <div class="wrap">
        <a fade-onload to="/" title="Home" rel="home" id="logo" style="opacity: 1;">
          <img class="logo logo-black" src="{{uploadpath}}inst/{{InstInfo.logo}}" alt="Home">
        </a>
        <div class="right" fade-onload style="opacity: 1;">
          <a (click)="nagivate('/tabs/tab2')">
            <img class="basket-icn basket-icn--black" src="{{uploadpath}}resource/{{res.basket}}" alt="basket">
            <span id="number-item-in-cart">&nbsp;{{cart.length>0?cart.length:""}}</span>
          </a>
          <a class="btn-menu-burger">
            <img class="icon-menu icon-menu--black" src="{{uploadpath}}resource/{{res.menu}}" alt="menu">
            <i class="icon-close"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
</ion-header>

<ion-content class="checkout-page checkout-page--cart-step">
  <div style="height:50px;"></div>

  <div class="wrapper-main-content" *ngIf="cart.length==0">
    <div class="container-fluid ">

      <div>
        <div class="cart-empty-page">您还没有添加购物车商品</div>
      </div>

    </div>
  </div>


  <div class="wrapper-main-content" *ngIf="cart.length>0">
    <div class="container-fluid ">

      <div>


        <div>

          <div class="row wrapper-content view view-commerce-cart-form view-id-commerce_cart_form view-display-id-default view-dom-id-c468d474d849bf5e69ab19b7534c0574 jquery-once-1-processed">
            <div class="items-into-cart">
              <div class="col-xs-11 col-xs-offset-1 col-md-5 col-md-offset-1">
                <h1>
                  您有 <span><em class="placeholder">{{cart.length}}</em></span> 项商品在购物车中 <p> </p>
                </h1>
                <a (click)='nagivate("/tabs/tab1")' class="underline">继续购物</a>
              </div>
              <div class="col-xs-8 col-xs-offset-1 col-md-3 col-md-offset-10 btn-checkout ">
                <input type="button" class="frm-btn-submit" value="提交支付"  (click)="gotoCheckout()">
              </div>
              <div class="clearfix"></div>
            </div>


            <div class="">
              <div class="view-content-cart">
                <div class="row views-frm-cart">
                  <div class="view-content">
                    <div class="commerce-line-item-views-form">
                      <div id="dc-cart-ajax-form-wrapper">
                        <form action="/en-us/cart" method="post" id="views-form-commerce-cart-form-default"
                          accept-charset="UTF-8">
                          <div><input type="hidden" name="form_build_id" value="form-ddE2YUWjCnFSN2fg4C-WFiTVkocBFmmF9mI1NWk0Azs">
                            <input type="hidden" name="form_id" value="views_form_commerce_cart_form_default">
                            <div class="row thead-title">
                              <div class="col-xs-12 col-xs-offset-1 col-md-12 col-md-offset-1">
                                <div class="col-xs-12 col-md-3 col-md-offset-0 thead thead-item">
                                  <span>你的商品</span>
                                  <span>Item</span>
                                </div>
                              </div>
                            </div>
                            <div class="row cont-item" *ngFor="let item of cart;let i=index;">
                              <div class="col-xs-12 col-xs-offset-1 col-md-12 col-md-offset-1 ">
                                <div class="col-xs-6  col-md-3  item-img">
                                  <a (click)="gotoGoods(item.goods.id)"><img [src]="uploadpath+'goods/'+item.goodsattr.photo"
                                      alt=""> </a>
                                </div>
                                <div class="col-xs-6 col-md-3  item-description col-description">
                                  <div class="item-number">{{item.goods.sno}}</div>
                                  <div class="name-product"><a (click)="gotoGoods(item.id)"> {{item.goods.name}} </a></div>
                                  <div class="color-product">
                                    {{item.goodsattr.name}}
                                  </div>
                                </div>
                                <div class="col-xs-6 col-md-4 item-quantity col-quantity">
                                  <div class="form-item form-type-textfield form-item-edit-quantity-0">
                                    <span class="commerce-quantity-plusminus-link commerce-quantity-plusminus-link-decrease minus">
                                      <a class="button btn-change-quantity" data-increase="-1" (click)='minusItem(item)'>-</a>
                                    </span>
                                    <input title="Quantity" type="text" id="edit-edit-quantity-0" name="edit_quantity[0]"
                                      value="{{item.num}}" size="4" maxlength="4" class="form-text" />
                                    <span class="commerce-quantity-plusminus-link commerce-quantity-plusminus-link-increase plus">
                                      <a class="button btn-change-quantity" data-increase="1" (click)='addItem(item)'>+</a>
                                    </span>
                                  </div>
                                </div>
                                <div class="col-xs-6 col-md-2 item-total col-total">
                                  {{getCartItemAmount(item)}} {{InstInfo.current}}<br>
                                  <span class="qty">({{item.num}} x {{item.goodsattr.price}} {{InstInfo.current}})</span>
                                </div>
                                <input class="delete-line-item form-submit ajax-processed" type="submit" id="edit-edit-delete-0"
                                  (click)="removeCartItem(item)" name="delete-line-item-0" value="Remove"
                                  [style.background-image]="'url('+uploadpath+'resource/'+res.remove+')'">
                                <!--            <i class="remove"></i>-->
                                <div class="clearfix"></div>
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                    <div class="attachment">
                      <div class="views-summary"><a href="#" id="dc-cart-ajax-views-form-commerce-cart-form-default">&nbsp;</a></div>
                    </div>
                  </div>


                  <div class="row cont-total">

                    <div class="col-xs-12 col-xs-offset-1 col-md-5 col-md-offset-3 count-price"   >
                      <!-- <div class="for-item">
                                  <label class="field-lbl">suntotal incl.vat</label>
                                  <div class="field-item">USD 2,094.00</div>
                              </div> -->
                      <div class="for-item">
                        <label class="field-lbl">邮费</label>

                        <div class="field-item">{{getCartShipping()}} {{InstInfo.current}}</div>
                      </div>
                      <div class="for-item last-item">
                        <label class="field-lbl">总计</label>

                        <div class="field-item">{{getCartTotalAmount()}} {{InstInfo.current}}</div>
                      </div>


                      <p>购物金额{{InstInfo.undershipping}}{{InstInfo.current}}起免邮费</p>

                      <div id="add-to-cart">
                        <input type="button" class="frm-btn-submit" value="提交支付" (click)="gotoCheckout()">
                        <div class="ajax-added">Added to cart</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>


          </div>


        </div>
      </div>

    </div>
  </div>


</ion-content>